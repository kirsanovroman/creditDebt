#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

echo "üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è Debt Tracker Bot"
echo ""

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ .env.local
if [ -f ".env.local" ]; then
    echo "‚ö†Ô∏è  –§–∞–π–ª .env.local —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç."
    read -p "–ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å? (y/N): " -n 1 -r
    echo
    if [[ ! $REPLY =~ ^[Yy]$ ]]; then
        echo "–û—Ç–º–µ–Ω–µ–Ω–æ."
        exit 0
    fi
fi

# –ö–æ–ø–∏—Ä—É–µ–º .env –≤ .env.local
if [ -f ".env" ]; then
    cp .env .env.local
    echo "‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª .env.local –Ω–∞ –æ—Å–Ω–æ–≤–µ .env"
else
    if [ -f ".env.example" ]; then
        cp .env.example .env.local
        echo "‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª .env.local –Ω–∞ –æ—Å–Ω–æ–≤–µ .env.example"
    else
        echo "‚ùå –û—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω —Ñ–∞–π–ª .env –∏–ª–∏ .env.example"
        exit 1
    fi
fi

echo ""
echo "üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:"
echo ""
echo "1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather –≤ Telegram:"
echo "   - –û—Ç–∫—Ä–æ–π—Ç–µ https://t.me/BotFather"
echo "   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /newbot"
echo "   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω"
echo ""
echo "2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª .env.local:"
echo "   - –£–∫–∞–∂–∏—Ç–µ BOT_TOKEN —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞"
echo "   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)"
echo ""
echo "3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:"
echo "   source venv/bin/activate"
echo "   python3 main.py"
echo ""
echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –§–∞–π–ª .env.local —Å–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ."
